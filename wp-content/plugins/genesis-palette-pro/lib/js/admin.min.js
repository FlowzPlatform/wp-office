function gppButtonDisable(e,i){jQuery(e).attr("disabled","disabled"),jQuery(i).css("visibility","visible")}function gppButtonEnable(e,i){jQuery(e).removeAttr("disabled"),jQuery(i).css("visibility","hidden")}function gppResetValues(){jQuery('input[type="text"]').val(""),jQuery("input.gppro-picker").val(""),jQuery("input.gppro-color-value").val(""),jQuery("a.wp-color-result").removeAttr("style"),jQuery("select.gppro-dropdown-group").val("")}function gppValidateURL(e){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)}function gppAdjustTextarea(e){var i=jQuery(e);i.height(50).height(i[0].scrollHeight),jQuery(e).on("keyup",function(){(i=jQuery(e)).height(50).height(i[0].scrollHeight)})}function gppPreviewProcess(e){if(""===e&&(e=adminData.basepreview),!1===gppValidateURL(e))return!1;gppPreviewReload(e)}function gppClosePickers(e){jQuery("div.wp-picker-active").not(e).find("a.wp-color-result").trigger("click")}function gppWidgetSwap(e){jQuery("div.gppro-section-support_section").find("div.gppro-support-input").replaceWith(e)}function gppSupportFields(e){jQuery(e).find("input#gppro-support-name").focus(function(){jQuery(e).find("p.support-error").remove(),jQuery(e).find("input#gppro-support-name").removeClass("user-error")}),jQuery(e).find("input#gppro-support-email").focus(function(){jQuery(e).find("p.support-error").remove(),jQuery(e).find("input#gppro-support-email").removeClass("user-error")}),jQuery(e).find("textarea#gppro-support-text").focus(function(){jQuery(e).find("p.support-error").remove(),jQuery(e).find("textarea#gppro-support-text").removeClass("user-error")})}function gppSupportSuccess(e,i){jQuery("div.gppro-support-input").find("p.gppro-support-prompt").hide(),jQuery(e).replaceWith('<p class="support-success">'+i+"</p>")}function gppTooltips(e,i){jQuery(".gppro-tip").each(function(){tipBlock=jQuery(this),tipText=jQuery(this).data("tip"),jQuery(this).tooltip({content:tipText,items:tipBlock,position:{my:e,at:i},open:function(e,i){screenfull.enabled&&screenfull.isFullscreen&&jQuery(i.tooltip).appendTo(jQuery("div.gppro-wrap"))}})})}function gppLoadPicker(e,i,p,t){jQuery(p).wpColorPicker({palettes:t,change:function(p,t){gppPreviewTarget=jQuery(i).data("target"),gppPreviewSelector=jQuery(i).data("selector"),gppPreviewView=jQuery(i).data("view"),pickerHex=jQuery(this).wpColorPicker("color"),1===jQuery(i).data("css-important")&&(pickerHex+=" !important"),jQuery(e).find("input.gppro-color-value").val(pickerHex),jQuery("div.gppro-frame-wrap").is(":visible")&&gppColorPreview(gppPreviewTarget,gppPreviewSelector,gppPreviewView,pickerHex)}})}function gppLoadSlider(e,i,p,t){""!==jQuery(e).data("min")&&(gppPreviewMin=jQuery(e).data("min")),""!==jQuery(e).data("max")&&(gppPreviewMax=jQuery(e).data("max")),""!==jQuery(e).data("step")&&(gppPreviewStep=jQuery(e).data("step")),""!==jQuery(i).val()&&(gppPreviewCurr=jQuery(i).val()),jQuery(t).slider({value:gppPreviewCurr,min:gppPreviewMin,max:gppPreviewMax,step:gppPreviewStep,slide:function(e,t){if(gppPreviewTarget=jQuery(i).data("target"),gppPreviewSelector=jQuery(i).data("selector"),gppPreviewSuffix=jQuery(i).data("suffix"),gppPreviewMediaQ=jQuery(i).data("media-query"),gppPreviewValue=t.value+gppPreviewSuffix,1===jQuery(i).data("css-important")&&(gppPreviewValue+=" !important"),jQuery(p).html(t.value+gppPreviewSuffix),jQuery(i).val(t.value),jQuery("div.gppro-frame-wrap").is(":visible")){if(""===gppPreviewTarget||void 0===gppPreviewTarget)return;gppScaledPreview(gppPreviewTarget,gppPreviewSelector,gppPreviewValue,gppPreviewMediaQ)}}})}function gppAdminMessage(e,i){jQuery("div.gppro-wrap").prepend('<div class="gppro-admin-message gppro-message-hidden '+i+'"><p>'+e+"</p></div>"),jQuery("div.gppro-admin-message").fadeIn(700,function(){jQuery("div.gppro-admin-message").removeClass("gppro-message-hidden")}),setTimeout(function(){jQuery("div.gppro-admin-message").fadeOut(700,function(){jQuery(this).remove()})},3e3)}function gppKillPluginBanners(){jQuery("div.yoast-notice").fadeOut(700,function(){jQuery(this).remove()})}jQuery(document).ready(function(e){e.fn.divExists=function(e){var i=[].slice.call(arguments,1);return this.length&&e.call(this,i),this};var i,p,t,r,a,o,s,n,d,u,g,c,l,v,f,m,h,w,y,F,j,Q,b,D,k,P,x,C,S,_,E,A,z=adminData.colorchoice,T=adminData.gfontlink,B=adminData.errormessage,R=adminData.clearconfirm,q=adminData.base_font_size,M=adminData.use_rems,U=(e("div.gppro-preview-url-input").find("input.gppro-user-preview-url").val(),adminData.tooltip_my),O=adminData.tooltip_at,N=null,J="",L="",V=1,H=!1,$=e("form.gppro-support-form");setTimeout(function(){gppKillPluginBanners()},1500),e("textarea.textarea-expand").each(function(){gppAdjustTextarea(e(this))}),e("div.gppro-settings-wrapper").divExists(function(){r=e("div.gppro-tabs").height(),e("div.gppro-section-single").each(function(){e(this).css("min-height",r)})}),e("div.gppro-wrap").divExists(function(){setTimeout(function(){e("div.gppro-admin-update").fadeOut(700,function(){e(this).remove()})},3500)}),gppTooltips(U,O),e("div#message").divExists(function(){e("body").addClass("gppro-message-displayed"),e("div.gppro-wrap").on("click",".notice-dismiss",function(){e("body").removeClass("gppro-message-displayed")})}),e("div.gppro-options").divExists(function(){e("div.gppro-options").addClass("loading"),a=e("div.gppro-tabs").find("li.tab-active a").data("section"),o=e("div.gppro-sections").find("div.gppro-section-"+a),e(o).addClass("gppro-section-active").show(),e("div.gppro-sections").find("div.gppro-section-single").not(o).removeClass("gppro-section-active").hide(),e("div.gppro-section-active div.gppro-color-wrap").each(function(){s=e(this),n=e(this).find("input.gppro-color-value"),d=e(this).find("input.gppro-picker"),gppLoadPicker(s,n,d,z)}),e("div.gppro-section-active div.gppro-spacing-wrap").each(function(){u=e(this),g=e(this).find("input.gppro-spacing-value"),c=e(this).find("span.gppro-slider-value"),l=e(this).find("span.gppro-slider"),gppLoadSlider(u,g,c,l)}),e("div.gppro-options").removeClass("loading"),e("div.gppro-tabs").on("click","li.tab-single a",function(i){i.preventDefault(),e("div.gppro-options").hasClass("loading")||(e("div.gppro-options").addClass("loading"),a=e(this).data("section"),o=e("div.gppro-sections").find("div.gppro-section-"+a),e("li.tab-single").removeClass("tab-active"),e(this).parent("li.tab-single").addClass("tab-active"),e("div.gppro-sections").find("div.gppro-section-single").not(o).removeClass("gppro-section-active").hide(),e(o).addClass("gppro-section-active").fadeIn(600),e("div.gppro-section-active div.gppro-color-wrap").each(function(){s=e(this),n=e(this).find("input.gppro-color-value"),d=e(this).find("input.gppro-picker"),gppLoadPicker(s,n,d,z)}),e("div.gppro-section-active div.gppro-spacing-wrap").each(function(){u=e(this),g=e(this).find("input.gppro-spacing-value"),c=e(this).find("span.gppro-slider-value"),l=e(this).find("span.gppro-slider"),gppLoadSlider(u,g,c,l)}),e("div.gppro-options").removeClass("loading"))})}),e("div.gppro-stack-input").on("change","select",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(w=e(this).data("target"))&&void 0!==w&&(y=e(this).data("selector"),F=e(this).data("media-query"),j=e(this).find("option:selected").data("family"),Q=e(this).find("option:selected").data("source"),"none"!==(b=e(this).find("option:selected").data("cssval"))&&(N='<link href="'+T+b+'" rel="stylesheet" type="text/css">'),1===e(this).data("css-important")&&(j+=" !important"),gppStackPreview(w,y,j,Q,N,F))}),e("div.gppro-font-size-input").on("input",".gppro-font-number",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(w=e(this).data("target"))&&void 0!==w&&(y=e(this).data("selector"),F=e(this).data("media-query"),j=e(this).val(),isNaN(parseInt(j,10))||(D=j+"px",k=!!M&&j/q+"rem",1===e(this).data("css-important")&&(j+=" !important"),gppFontSizePreview(w,y,D,k,F)))}),e("div.gppro-radio-input").on("change","input.gppro-radio",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(w=e(this).data("target"))&&void 0!==w&&(y=e(this).data("selector"),F=e(this).data("media-query"),j=e(this).data("value"),1===e(this).data("css-important")&&(j+=" !important"),gppStandardPreview(w,y,j,F))}),e("div.gppro-dropdown-input").on("change","select.gppro-dropdown-item",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(w=e(this).data("target"))&&void 0!==w&&(y=e(this).data("selector"),F=e(this).data("media-query"),j=e(this).find("option:selected").val(),1===e(this).data("css-important")&&(j+=" !important"),gppStandardPreview(w,y,j,F))}),e("div.gppro-checkbox-input").on("change","input.gppro-checkbox-item",function(){e("div.gppro-frame-wrap").is(":visible")&&""!==(w=e(this).data("target"))&&void 0!==w&&(y=e(this).data("selector"),F=e(this).data("media-query"),j=e(this).find(":checked").val(),1===e(this).data("css-important")&&(j+=" !important"),gppStandardPreview(w,y,j,F))}),e("div.gppro-url-input").each(function(){if(e("div.gppro-frame-wrap").is(":visible")){if(m=e(this).find("input.gppro-url-item"),"user-preview-url"==(h=e(m).attr("id")))return!1;if(""!==(w=e(m).data("target"))&&void 0!==w){if(y=e(m).data("selector"),F=e(m).data("media-query"),""===w||""===y)return!1;e(m).keyup(function(){j=e(this).val(),gppStandardPreview(w,y,j,F)})}}}),e("h4.section-title").each(function(){var i=e(this).parent("div.gppro-input-column"),p=e(this).find("span.gppro-section-trigger"),t=e(p).data("position");"open"==t&&e(i).find("div.gppro-input-group div.gppro-input").slideDown("slow"),"close"==t&&e(i).find("div.gppro-input-group div.gppro-input").slideUp("slow"),e(this).on("click","span.gppro-section-trigger",function(p){var t=e(this).data("position");"open"==t&&(e(this).data("position","close"),e(this).addClass("dashicons-arrow-down"),e(this).removeClass("dashicons-arrow-up"),e(i).find("div.gppro-input-group div.gppro-input").slideUp("slow")),"close"==t&&(e(this).data("position","open"),e(this).removeClass("dashicons-arrow-down"),e(this).addClass("dashicons-arrow-up"),e(i).find("div.gppro-input-group div.gppro-input").slideDown("slow"))})}),e("h5.gppro-divider-title").each(function(){var i=e(this).parents("div.gppro-divider-input"),p=e(this).find("span.gppro-section-trigger"),t=e(p).data("position");"open"==t&&e(i).nextUntil("div.gppro-divider-input").slideDown("slow"),"close"==t&&e(i).nextUntil("div.gppro-divider-input").slideUp("slow"),e(this).on("click","span.gppro-section-trigger",function(p){var t=e(this).data("position");"open"==t&&(e(this).data("position","close"),e(this).addClass("dashicons-arrow-down"),e(this).removeClass("dashicons-arrow-up"),e(i).nextUntil("div.gppro-divider-input").slideUp("slow")),"close"==t&&(e(this).data("position","open"),e(this).addClass("dashicons-arrow-up"),e(this).removeClass("dashicons-arrow-down"),e(i).nextUntil("div.gppro-divider-input").slideDown("slow"))})}),e("li.gppro-user-action-save").on("click","span.gppro-preview-save",function(){e("div.gppro-actions-top").find("input.gppro-save").trigger("click")}),e("div.gppro-preview-url-input").on("click","input.gppro-preview-reload",function(){if(""!==(J=e(this).data("nonce"))){""!==(L=e("div.gppro-preview-url-input input.gppro-user-preview-url").val())&&void 0!==L||gppPreviewProcess(adminData.basepreview);var i={action:"set_preview",nonce:J,preview:L};jQuery.post(ajaxurl,i,function(e){var i;try{i=jQuery.parseJSON(e)}catch(e){return!1}!0===i.success&&""!==i.preview&&gppPreviewProcess(i.preview)})}}),e("div.gppro-checkbox-input").on("change","input#user-preview-type",function(){var p={action:"set_user_logged",logged:i=!!e(this).is(":checked")};jQuery.post(ajaxurl,p,function(e){var i;try{i=jQuery.parseJSON(e)}catch(e){return!1}!0===i.success&&gppPreviewRefresh()})}),e("ul.scale-button-block").on("click","span.gppro-scale-icon",function(){P=e(this).data("increment"),x=e(this).data("scaletype"),V=e(this).data("currscale"),"in"==x&&(C=V+P),"out"==x&&(C=V-P),"reset"==x&&(C=1),e("div.gppro-frame-wrap iframe").css({"-moz-transform":"scale("+C+")","-webkit-transform":"scale("+C+")","-o-transform":"scale("+C+")","-ms-transform":"scale("+C+")",transform:"scale("+C+")"}),e("ul.scale-button-block span.gppro-scale-icon").each(function(){e(this).data("currscale",C)})}),e("div.gppro-preview-actions").on("click","span.gppro-preview-refresh",function(){e("div.gppro-preview-actions").find("span").attr("disabled","disabled"),gppPreviewFader(),gppPreviewRefresh(),e("div.gppro-preview-actions").find("span").removeAttr("disabled")}),e("div.gppro-actions").on("click","input.gppro-save",function(i){i.preventDefault(),e("div#wpbody div#message").remove(),e("div#wpbody div#setting-error-settings_updated").remove(),gppPreviewFader(),gppButtonDisable("input.gppro-save","img.gppro-save-process");var p=e("div.gppro-actions").find("input#gppro_save_nonce").val();if(""===p||void 0===p)return gppPreviewFaderRemove(),gppButtonEnable("input.gppro-save","img.gppro-save-process"),!1;v={},f=[],e("div.gppro-sections input.gppro-value").each(function(){""!==e(this).val()&&(v[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&f.push(e(this).attr("id"))}),e("div.gppro-sections select.gppro-font-stack").each(function(){""!==e(this).val()&&(v[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&f.push(e(this).attr("id"))}),e("div.gppro-sections input.gppro-font-number").each(function(){""!==e(this).val()&&(v[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&f.push(e(this).attr("id"))}),e("div.gppro-sections select.gppro-dropdown-item").each(function(){""!==e(this).val()&&(v[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&f.push(e(this).attr("id"))}),e("div.gppro-sections input.gppro-radio:checked").each(function(){""!==e(this).val()&&(v[e(this).data("field")]=e(this).val()),1===e(this).data("always")&&f.push(e(this).data("field"))}),e("div.gppro-sections input.gppro-checkbox:checked").each(function(){""!==e(this).val()&&(v[e(this).attr("id")]=e(this).val()),1===e(this).data("always")&&f.push(e(this).attr("field"))}),e('div.gppro-sections input[type="url"]').each(function(){v[e(this).attr("id")]=e(this).val()}),e("div.gppro-sections textarea").each(function(){""!==e(this).val()&&(v[e(this).attr("id")]=e(this).val())}),f=""!==f?f.join("|"):"","serialize"==adminData.perhapsSerial&&(v=jQuery.param(v),v=decodeURIComponent(v));var t={action:"save_styles",nonce:p,always:f,choices:v};jQuery.post(ajaxurl,t,function(e){gppButtonEnable("input.gppro-save","img.gppro-save-process");var i;try{i=jQuery.parseJSON(e)}catch(e){return gppAdminMessage("There was an error parsing your data.","gppro-admin-message-fail"),gppPreviewFaderRemove(),!1}!0===i.success?(gppAdminMessage(i.message,"gppro-admin-message-success"),gppPreviewRefresh(),gppLinkReset(),gppPreviewFaderRemove()):!1===i.success&&null!==i.message?(gppAdminMessage(i.message,"gppro-admin-message-fail"),gppPreviewFaderRemove()):(gppAdminMessage("There was an error with your request.","gppro-admin-message-fail"),gppPreviewFaderRemove())})}),e("div.gppro-button-label").on("click","input.gppro-clear",function(i){if(confirm(R)){i.preventDefault(),e("div#wpbody div#message").remove(),e("div#wpbody div#setting-error-settings_updated").remove(),gppButtonDisable(e(this),e(this).prev("img.gppro-processing"));var p=e("div.gppro-button-input").find("input#gppro_reset_nonce").val();""!==p&&gppButtonEnable(e(this),e(this).prev("img.gppro-processing"));var t={action:"clear_styles",nonce:p};jQuery.post(ajaxurl,t,function(i){gppButtonEnable(e(this),e(this).prev("img.gppro-processing"));var p;try{p=jQuery.parseJSON(i)}catch(e){gppAdminMessage(B,"gppro-admin-message-fail")}!0===p.success?(gppResetValues(),gppAdminMessage(p.message,"gppro-admin-message-success"),setTimeout(function(){window.location.href=p.redirect},400)):gppAdminMessage(p.message,"gppro-admin-message-fail")})}});var I=!1,W=!1;e("body.gppro-admin-page").keydown(function(i){17===i.keyCode&&(W=!0),18===i.keyCode&&(I=!0),68===i.keyCode&&I&&W&&e("div.gppro-button-input").find("input.gppro-clear").trigger("click"),83===i.keyCode&&I&&W&&e("div.gppro-actions").find("input.gppro-save").trigger("click"),82===i.keyCode&&I&&W&&e("div.preview-viewports").find("span.gppro-fullscreen").trigger("click"),67===i.keyCode&&I&&W&&e("div.preview-viewports").find("span.gppro-clear").trigger("click"),82===i.keyCode&&I&&W&&e("div.preview-viewports").find("span.gppro-viewport-refresh").trigger("click")}),e("body.gppro-admin-page").keyup(function(e){I=!1,W=!1}),e("div.gppro-admin-warning").on("click","span.ignore",function(){var i={action:"ignore_warning",child:t=e(this).data("child")};jQuery.post(ajaxurl,i,function(i){var p;try{p=jQuery.parseJSON(i)}catch(e){return!1}if(!0!==p.success)return!1;e("div#wpbody").find("div.gppro-admin-warning-"+t).slideUp(400,function(){var i=e(this).outerHeight(!0),p=e("div.gppro-preview-fixed").offset().top;jQuery("div.gppro-preview-fixed").css("top",parseFloat(p)-parseFloat(i)),e(this).remove()})})}),e("div.gppro-admin-warning").on("click","span.webfont-ignore",function(i){i.preventDefault();var p={action:"ignore_webfont"};jQuery.post(ajaxurl,p,function(i){var p;try{p=jQuery.parseJSON(i)}catch(e){return!1}if(!0!==p.success)return!1;e("div#wpbody").find("div.gppro-admin-warning-webfonts").slideUp(400,function(){var i=e(this).outerHeight(!0),p=e("div.gppro-preview-fixed").offset().top;jQuery("div.gppro-preview-fixed").css("top",parseFloat(p)-parseFloat(i)),e(this).remove()})})}),jQuery("div.gppro-standard-input").each(function(){var e;jQuery("div.gppro-standard-wrap").on("click","input.gppro-standard-upload",function(i){var t=jQuery("input.gppro-standard-field").data("target"),r=jQuery("input.gppro-standard-field").data("selector");e?e.open():((e=wp.media.frames.file_frame=wp.media({title:adminData.uploadtitle,button:{text:adminData.uploadbutton},library:{type:"image"},multiple:!1})).on("select",function(){attachment=e.state().get("selection").first().toJSON(),p=attachment.sizes.full.url,jQuery("span.gppro-standard-preview").find("img.image-preview-image").remove(),jQuery("div.gppro-standard-input").find("input.gppro-standard-field").val(p),jQuery("span.gppro-standard-preview").append('<img class="image-preview-image" src="'+p+'">'),jQuery("div.gppro-frame-wrap").is(":visible")&&gppUploadPreview(t,r,p)}),e.open())})}),jQuery("div.gppro-retina-input").each(function(){var e;jQuery("div.gppro-retina-wrap").on("click","input.gppro-retina-upload",function(i){var t=jQuery("input.gppro-retina-field").data("target"),r=jQuery("input.gppro-standard-field").data("selector");e?e.open():((e=wp.media.frames.file_frame=wp.media({title:adminData.uploadtitle,button:{text:adminData.uploadbutton},library:{type:"image"},multiple:!1})).on("select",function(){attachment=e.state().get("selection").first().toJSON(),p=attachment.sizes.full.url,jQuery("span.gppro-retina-preview").find("img.image-preview-image").remove(),jQuery("div.gppro-retina-input").find("input.gppro-retina-field").val(p),jQuery("span.gppro-retina-preview").append('<img class="image-preview-image" src="'+p+'">'),jQuery("div.gppro-frame-wrap").is(":visible")&&gppRetinaPreview(t,r,p)}),e.open())})}),jQuery("div.gppro-favicon-input").divExists(function(){var e;jQuery("div.gppro-favicon-input").on("click","input.gppro-favicon-upload",function(){e?e.open():((e=wp.media.frames.file_frame=wp.media({title:adminData.favicontitle,button:{text:adminData.uploadbutton},library:{type:"image"},multiple:!1})).on("select",function(){attachment=e.state().get("selection").first().toJSON(),attachment&&""!==attachment.url&&""!==attachment.subtype&&-1!=jQuery.inArray(attachment.subtype,["x-icon","png","gif"])&&(p=attachment.url,jQuery("div.gppro-favicon-wrap").find("input.gppro-favicon-field").val(p))}),e.open())})}),e("form.gppro-support-form").on("click","input#gppro-support-request",function(i){if(i.preventDefault(),gppSupportFields($),gppButtonDisable("input#gppro-support-request","img.support-processing"),""===(A=e($).find("input#gppro_support_nonce").val()))return gppButtonEnable("input#gppro-support-request","img.support-processing"),!1;if(S=e($).find("input#gppro-support-name").val(),_=e($).find("input#gppro-support-email").val(),E=e($).find("textarea#gppro-support-text").val(),""===S&&(e($).find("input#gppro-support-name").addClass("user-error"),H=!0),""===_&&(e($).find("input#gppro-support-email").addClass("user-error"),H=!0),""===E&&(e($).find("textarea#gppro-support-text").addClass("user-error"),H=!0),!0===H)return gppButtonEnable("input#gppro-support-request","img.support-processing"),e("div.gppro-support-input p.gppro-support-submit").before('<p class="support-error">'+adminData.supporterror+"</p>"),!1;var p={action:"gppro_support_request",name:S,email:_,text:E,nonce:A};jQuery.post(ajaxurl,p,function(i){gppButtonEnable("input#gppro-support-request","img.support-processing");var p;try{p=jQuery.parseJSON(i)}catch(e){return!1}!0===p.success&&gppSupportSuccess($,p.message),!1===p.success&&e("div.gppro-support-input p.gppro-support-disclaimer").before('<p class="support-error">'+p.message+"</p>")})})});